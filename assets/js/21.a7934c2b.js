(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{647:function(t,a,s){t.exports=s.p+"assets/img/facebook1.5d43e280.png"},648:function(t,a,s){t.exports=s.p+"assets/img/facebook2.b1415dc0.png"},649:function(t,a,s){t.exports=s.p+"assets/img/facebook3.f45c28ac.png"},650:function(t,a,s){t.exports=s.p+"assets/img/facebook4.b3e64bfb.png"},651:function(t,a,s){t.exports=s.p+"assets/img/facebook5.36e15984.png"},898:function(t,a,s){"use strict";s.r(a);var o=s(2),e=Object(o.a)({},(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"facebook"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#facebook"}},[t._v("#")]),t._v(" Facebook")]),t._v(" "),o("h2",{attrs:{id:"实现-facebook-第三方授权登录"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#实现-facebook-第三方授权登录"}},[t._v("#")]),t._v(" 实现 Facebook 第三方授权登录")]),t._v(" "),o("p",[t._v("目前Facebook的第三方登录有很多方案，且官方提供SDK方便接入。但是我这个项目同时要实现网页和客户端。所以选择了 Facebook 手动构建登录流程的方案。")]),t._v(" "),o("p",[o("img",{attrs:{src:s(647),alt:"img"}}),t._v(" "),o("br")]),t._v(" "),o("h2",{attrs:{id:"配置-facebook-应用"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#配置-facebook-应用"}},[t._v("#")]),t._v(" 配置 Facebook 应用")]),t._v(" "),o("h3",{attrs:{id:"首先访问-google-cloud-platform-控制台"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#首先访问-google-cloud-platform-控制台"}},[t._v("#")]),t._v(" 首先访问 Google Cloud Platform 控制台")]),t._v(" "),o("p",[o("strong",[t._v("地址： "),o("a",{attrs:{href:"https://developers.facebook.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developers.facebook.com/"),o("OutboundLink")],1)])]),t._v(" "),o("blockquote",[o("p",[t._v("新建一个应用")])]),t._v(" "),o("p",[o("img",{attrs:{src:s(648),alt:"img"}}),t._v(" "),o("br")]),t._v(" "),o("h3",{attrs:{id:"配置测试用户"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#配置测试用户"}},[t._v("#")]),t._v(" 配置测试用户")]),t._v(" "),o("p",[o("img",{attrs:{src:s(649),alt:"img"}}),t._v(" "),o("br")]),t._v(" "),o("h3",{attrs:{id:"配置回调地址"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#配置回调地址"}},[t._v("#")]),t._v(" 配置回调地址")]),t._v(" "),o("p",[o("img",{attrs:{src:s(650),alt:"img"}}),t._v(" "),o("br"),t._v(" "),o("img",{attrs:{src:s(651),alt:"img"}}),t._v(" "),o("br")]),t._v(" "),o("h2",{attrs:{id:"前端获取用户tokenid"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#前端获取用户tokenid"}},[t._v("#")]),t._v(" 前端获取用户tokenId")]),t._v(" "),o("blockquote",[o("p",[o("strong",[o("code",[t._v("以react为例 通过react-facebook-login或者react-facebook-login-typed(支持ts)来实现获取用户tokenId")])])])]),t._v(" "),o("div",{staticClass:"language-js extra-class"},[o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",[t._v("npm install react"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("facebook"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("login\n\n"),o("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" FacebookLogin "),o("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-facebook-login'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("FacebookLogin\n  appId"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),o("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1088597931155576"')]),t._v(" "),o("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//appId 为应用编号")]),t._v("\n  autoLoad\n  callback"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("responseFacebook"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  render"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),o("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("renderProps")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button onClick"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("renderProps"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onClick"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("This is my custom "),o("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FB")]),t._v(" button"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),o("p",[t._v("通过responseFacebook回调函数可以获得用户的信息，然后获取相对应的tokenId给后端")])])])}),[],!1,null,null,null);a.default=e.exports}}]);